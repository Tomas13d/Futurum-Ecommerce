{"ast":null,"code":"var _jsxFileName = \"/home/tomas/Escritorio/Plataforma5/Bootcamp/Integrador/E-commerce/futurum/src/components/Checkout.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cartRegister, sendMail } from \"../store/cart\";\nimport { getPayments } from \"../store/payments\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CheckOut = () => {\n  _s();\n\n  //const user = useSelector((state) => state.user);\n  const user = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {\n    none: \"none\"\n  };\n  const payments = useSelector(state => state.payments);\n  let courses = localStorage.getItem(\"Cart\") ? JSON.parse(localStorage.getItem(\"Cart\")) : [];\n  const dispatch = useDispatch();\n  const date = new Date(); //REVISAR SI ESTO VA ACA\n\n  let total = 0;\n\n  for (let i = 0; i < courses.length; i++) {\n    total += courses[i].price;\n  }\n\n  useEffect(() => {\n    dispatch(getPayments());\n  }, []);\n\n  const handleBuy = () => {\n    const orders = courses.map(course => {\n      let order = {\n        date: date.toISOString(),\n        paymentId: document.getElementById(\"payment\").value,\n        userId: user.id,\n        productId: course.id\n      };\n      return order;\n    });\n    console.log(\"ARREGLO DE ORDENES->\", orders);\n    dispatch(cartRegister(orders));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containerSingle\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"singleCardLogin\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardTitle\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-black text-lg\",\n          children: user.nameAndLastname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"colorBar\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bodyCard\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"date\",\n          children: date.toLocaleDateString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Course\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: courses.map((course, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: i + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-black text-lg\",\n                children: course.productName\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-black text-lg\",\n                children: course.price\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"priceAndAdd\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price\",\n            children: `Total:${total}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price\",\n            children: `Tipo de Pago:`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"payment\",\n            children: payments.map(payment => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: payment.id,\n                children: payment.payment_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleBuy,\n          className: \"btn btn-dark btn-lg btnAdd\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa-solid fa-cart-arrow-down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), \" Buy\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CheckOut, \"7xNkTiYVlNklok9LDlh/22CbQ0M=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = CheckOut;\nexport default CheckOut;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckOut\");","map":{"version":3,"sources":["/home/tomas/Escritorio/Plataforma5/Bootcamp/Integrador/E-commerce/futurum/src/components/Checkout.jsx"],"names":["useEffect","useDispatch","useSelector","cartRegister","sendMail","getPayments","CheckOut","user","localStorage","getItem","JSON","parse","none","payments","state","courses","dispatch","date","Date","total","i","length","price","handleBuy","orders","map","course","order","toISOString","paymentId","document","getElementById","value","userId","id","productId","console","log","nameAndLastname","toLocaleDateString","productName","payment","payment_type"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cartRegister, sendMail } from \"../store/cart\";\nimport { getPayments } from \"../store/payments\";\n\nconst CheckOut = () => {\n  //const user = useSelector((state) => state.user);\n  const user = localStorage.getItem(\"user\")\n    ? JSON.parse(localStorage.getItem(\"user\"))\n    : { none: \"none\" };\n  const payments = useSelector((state) => state.payments);\n  let courses = localStorage.getItem(\"Cart\")\n    ? JSON.parse(localStorage.getItem(\"Cart\"))\n    : [];\n  const dispatch = useDispatch();\n  const date = new Date();\n\n  //REVISAR SI ESTO VA ACA\n  let total = 0;\n  for (let i = 0; i < courses.length; i++) {\n    total += courses[i].price;\n  }\n\n  useEffect(() => {\n    dispatch(getPayments());\n  }, []);\n\n  const handleBuy = () => {\n    const orders = courses.map((course) => {\n      let order = {\n        date: date.toISOString(),\n        paymentId: document.getElementById(\"payment\").value,\n        userId: user.id,\n        productId: course.id,\n      };\n      return order;\n    });\n    console.log(\"ARREGLO DE ORDENES->\", orders);\n    dispatch(cartRegister(orders));\n  };\n\n  return (\n    <div className=\"containerSingle\">\n      <div className=\"singleCardLogin\">\n        <div className=\"cardTitle\">\n          <p className=\"text-black text-lg\">{user.nameAndLastname}</p>\n          <div className=\"colorBar\"> </div>\n        </div>\n        <div className=\"bodyCard\">\n          <p className=\"date\">{date.toLocaleDateString()}</p>\n          <table className=\"table table-sm\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Course</th>\n                <th>Price</th>\n              </tr>\n            </thead>\n            <tbody>\n              {courses.map((course, i) => (\n                <tr>\n                  <th scope=\"row\">{i + 1}</th>\n                  <td className=\"text-black text-lg\" key={i}>\n                    {course.productName}\n                  </td>\n                  <td className=\"text-black text-lg\" key={i}>\n                    {course.price}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <div className=\"priceAndAdd\">\n            <p className=\"price\">{`Total:${total}`}</p>\n            <p className=\"price\">{`Tipo de Pago:`}</p>\n            <select id=\"payment\">\n              {payments.map((payment) => {\n                return (\n                  <option value={payment.id}>{payment.payment_type}</option>\n                );\n              })}\n            </select>\n          </div>\n          <button onClick={handleBuy} className=\"btn btn-dark btn-lg btnAdd\">\n            <i class=\"fa-solid fa-cart-arrow-down\"></i> Buy\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default CheckOut;\n"]},"metadata":{},"sourceType":"module"}